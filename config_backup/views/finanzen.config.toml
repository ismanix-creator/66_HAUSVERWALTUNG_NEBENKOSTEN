[view]
id = "finanzen"
title = "labels.views.finanzen"
route = "/finanzen"
layout = "tabbed"

  [[view.tabs]]
  id = "zahlungen"
  label = "labels.tabs.zahlungen"
  route = "/finanzen/zahlungen"
  table = "tables/zahlungen.table"
  default_sort = { field = "datum", direction = "desc" }

    [[view.tabs.filters]]
    field = "datum"
    type = "date_range"
    label = "labels.filter.zeitraum"

    [[view.tabs.filters]]
    field = "typ"
    type = "select"

  [view.tabs.actions]
  create = { label = "labels.actions.zahlung_erfassen", dialog = "forms/zahlung.form" }

  [[view.tabs]]
  id = "sollstellung"
  label = "labels.tabs.sollstellung"
  route = "/finanzen/sollstellung"
  table = "tables/sollstellungen.table"

    [[view.tabs.filters]]
    field = "monat"
    type = "month_picker"
    default = "current"

    [[view.tabs.filters]]
    field = "status"
    type = "select"

  [view.tabs.summary]
  show = true
  fields = ["sollbetrag", "istbetrag", "differenz"]
  aggregate = "sum"

  [[view.tabs]]
  id = "kautionen"
  label = "labels.tabs.kautionen"
  route = "/finanzen/kautionen"
  table = "tables/kautionen.table"

    [[view.tabs.filters]]
    field = "status"
    type = "select"

  [view.tabs.summary]
  show = true
  fields = ["betrag"]
  aggregate = "sum"
  group_by = "status"
