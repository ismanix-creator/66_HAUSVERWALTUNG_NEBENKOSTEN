# =============================================================================
# MIETVERWALTUNG - MASTER CONFIGURATION
# 100% Config-Driven Property Management System
# =============================================================================
# @version: 1.0.0
# @lastModified: 2025-12-18
# @structure: Konsolidierte Haupt-Konfiguration (Punkt 1)
# @note: Catalogs bleiben in separaten Dateien unter config/catalogs/
# =============================================================================
# STRUKTUR:
# ├── [meta]          - Metadaten der Konfiguration
# ├── [app]           - Anwendungseinstellungen
# ├── [server]        - Server-Konfiguration
# ├── [database]      - Datenbank-Einstellungen
# ├── [navigation]    - Navigationsstruktur
# ├── [routes]        - Routing-Konfiguration
# ├── [pagination]    - Seitennummerierung
# ├── [search]        - Sucheinstellungen
# ├── [export]        - Export-Einstellungen
# ├── [notifications] - Benachrichtigungen
# ├── [autosave]      - Automatisches Speichern
# ├── [shortcuts]     - Tastaturkürzel
# ├── [logging]       - Logging-Einstellungen
# ├── [security]      - Sicherheitseinstellungen
# ├── [performance]   - Performance-Einstellungen
# ├── [debug]         - Debug-Einstellungen
# └── SEPARAT:
#     ├── config/catalogs/*.toml  - Wertelisten (übersichtlich separat!)
#     ├── config/entities/*.toml  - Entity-Definitionen
#     ├── config/forms/*.toml     - Formular-Definitionen
#     ├── config/tables/*.toml    - Tabellen-Definitionen
#     ├── config/views/*.toml     - View-Definitionen
#     ├── config/validation/*.toml - Validierungsregeln
#     ├── config/labels/*.toml    - UI-Texte (i18n)
#     └── config/themes/*.toml    - Design-System
# =============================================================================

# =============================================================================
# META - Konfigurationsmetadaten
# =============================================================================
[meta]
version = "1.0.0"
schema_version = "1"
last_modified = "2025-12-18"
environment = "development"
config_format = "toml"

# =============================================================================
# APP - Anwendungseinstellungen
# =============================================================================
[app]
name = "Mietverwaltung"
version = "1.0.0"
description = "Private Mietobjekt-Verwaltung"
locale = "de-DE"
currency = "EUR"
timezone = "Europe/Berlin"
date_format = "DD.MM.YYYY"
time_format = "HH:mm"
datetime_format = "DD.MM.YYYY HH:mm"

[app.owner]
name = "Akki Scholze"
address = ""
tax_number = ""
email = ""
phone = ""
iban = ""
bic = ""

[app.defaults]
kuendigungsfrist_monate = 3
kaution_monate = 3
nk_abrechnungsfrist_monate = 12
mieterhoehung_sperrfrist_monate = 15
mahnfrist_tage = 14
zahlungsziel_tage = 14

[app.storage]
dokumente_pfad = "./data/dokumente"
backup_pfad = "./data/backups"
temp_pfad = "./data/temp"
max_upload_size_mb = 25
allowed_file_types = ["pdf", "jpg", "jpeg", "png", "doc", "docx", "xls", "xlsx"]

# =============================================================================
# SERVER - Server-Konfiguration
# =============================================================================
[server]
host = "127.0.0.1"
port = 3002
cors_origin = "http://localhost:5174"
request_timeout_ms = 30000
max_request_size = "50mb"

[server.api]
base_path = "/api"
enable_swagger = false
enable_graphql = false

[server.static]
directory = "./public"
cache_control = "public, max-age=3600"
enable_compression = true

# =============================================================================
# DATABASE - Datenbank-Einstellungen
# =============================================================================
[database]
type = "sqlite"
path = "./data/database.sqlite"
wal_mode = true
foreign_keys = true
auto_vacuum = "incremental"
busy_timeout_ms = 5000

[database.migrations]
auto_run = true
directory = "./scripts/migrations"

[database.backup]
enabled = true
schedule = "0 3 * * *"
retention_days = 30
directory = "./data/backups"

# =============================================================================
# NAVIGATION - Navigationsstruktur
# =============================================================================
[navigation]
mode = "sidebar"
position = "left"
collapsible = true
default_collapsed = false

[[navigation.items]]
id = "dashboard"
label = "labels.nav.dashboard"
route = "/dashboard"
icon = "LayoutDashboard"
order = 10

[[navigation.items]]
id = "objekte"
label = "labels.nav.objekte"
route = "/objekte"
icon = "Building2"
order = 20

[[navigation.items]]
id = "mieter"
label = "labels.nav.mieter"
route = "/mieter"
icon = "Users"
order = 30

[[navigation.items]]
id = "vertraege"
label = "labels.nav.vertraege"
route = "/vertraege"
icon = "FileText"
order = 40

[[navigation.items]]
id = "finanzen"
label = "labels.nav.finanzen"
route = "/finanzen"
icon = "BarChart3"
order = 50

[[navigation.items]]
id = "nebenkosten"
label = "labels.nav.nebenkosten"
route = "/nebenkosten"
icon = "Receipt"
order = 60

# =============================================================================
# ROUTES - API-Routing
# =============================================================================
[routes]
base = "/api"
version = "v1"
mobile_readonly = true

# =============================================================================
# PAGINATION - Seitennummerierung
# =============================================================================
[pagination]
default_limit = 100
max_limit = 1000
offset_default = 0

# =============================================================================
# SEARCH - Sucheinstellungen
# =============================================================================
[search]
enabled = true
debounce_ms = 300
min_chars = 2
max_results = 50

# =============================================================================
# EXPORT - Export-Einstellungen
# =============================================================================
[export]
formats = ["pdf", "csv", "xlsx"]
max_records = 10000

# =============================================================================
# NOTIFICATIONS - Benachrichtigungen
# =============================================================================
[notifications]
enabled = true
toast_duration_ms = 3000
sound_enabled = false

# =============================================================================
# AUTOSAVE - Automatisches Speichern
# =============================================================================
[autosave]
enabled = true
interval_ms = 30000
debounce_ms = 500

# =============================================================================
# SHORTCUTS - Tastaturkürzel
# =============================================================================
[shortcuts]
enabled = true
overlay_key = "Shift+?"

# =============================================================================
# LOGGING - Logging-Einstellungen
# =============================================================================
[logging]
level = "info"
format = "json"
output = "console"
max_size_mb = 100
retention_days = 7

# =============================================================================
# SECURITY - Sicherheitseinstellungen
# =============================================================================
[security]
rate_limit_enabled = false
rate_limit_window_ms = 60000
rate_limit_max_requests = 100
csrf_protection = false
sql_injection_prevention = true

# =============================================================================
# PERFORMANCE - Performance-Einstellungen
# =============================================================================
[performance]
cache_enabled = true
cache_ttl_seconds = 3600
compression_enabled = true
query_optimization = true

# =============================================================================
# DEBUG - Debug-Einstellungen
# =============================================================================
[debug]
enabled = false
show_query_time = false
show_render_count = false
log_api_calls = false
mock_delay_ms = 0
